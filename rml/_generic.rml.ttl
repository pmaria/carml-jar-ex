@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sd: <http://www.w3.org/ns/sparql-service-description#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix dct: <http://purl.org/dc/terms/> .
@prefix pdok: <http://data.pdok.nl/def/pdok#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix schema: <http://schema.org/> .
@prefix org: <http://www.w3.org/ns/org#> .
@prefix ceo: <https://linkeddata.cultureelerfgoed.nl/def/ceo#> . #TODO: definitief!
@prefix ceo_beg: <http://linkeddata.cultureelerfgoed.nl/ceo/id/begrip> .

@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix rml: <http://semweb.mmlab.be/ns/rml#>.
@prefix ql: <http://semweb.mmlab.be/ns/ql#>.
@prefix fno: <http://semweb.datasciencelab.be/ns/function#> .
@prefix fnml: <http://semweb.mmlab.be/ns/fnml#> .
@prefix carml: <http://carml.taxonic.com/carml/> .

#@prefix fnPdok: <http://data.pdok.nl/mappings/functions#> .
#@prefix fnBi: <http://data.pdok.nl/mappings/bi/functions#> .
#@prefix big: <http://data.pdok.nl/id/dataset/bi> .
@prefix ceog: <http://linkeddata.cultureelerfgoed.nl/def/ceo> .
@prefix : <http://linkeddata.cultureelerfgoed.nl/mappings/ceo#> . #TODO: check of dit een valide default prefix is???

######################################################################################
# Generic CEO POM
######################################################################################

:CEO_choId_POM a rr:PredicateObjectMap ;
  rr:predicate ceo:cultuurhistorischObjectnummer ;
  rr:objectMap [
    rml:reference "choId" ;
    rr:datatype xsd:integer ;
    ]
.

:CEO_samenhang a rr:TriplesMap ;
  rml:logicalSource [
    rml:source [
     a carml:Stream ;
      ] ;
    rml:referenceFormulation ql:XPath ;
    rml:iterator "/cultuurHistorischeObjecten/rijksmonument/samenhang" ;
  ] ;
  rr:subjectMap [
    rr:template "https://linkeddata.cultureelerfgoed.nl/cho-kennis/id/samenhang/{../choId}-{isRelatieVan/choId}" ;#TODO: check naam  URI
    rr:class
      ceo:Samenhang ;
    rr:graph ceog: ;
  ] ;
#  rr:predicateObjectMap
#    :CEO_samenhang_nummer_POM ,
#    :CEO_samenhang_toelichting_POM ;
.

:CEO_samenhang_POM a rr:PredicateObjectMap ;
  rr:predicate ceo:heeftSamenhang ;
  rr:objectMap [
    rr:parentTriplesMap :CEO_samenhang ;
      rr:joinCondition [
        rr:child "samenhang/isRelatieVan/choId" ;
        rr:parent "isRelatieVan/choId" ;
      ] ;
    ] ;
.